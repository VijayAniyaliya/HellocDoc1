@model Services.Models.SendAgreementViewModel

<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border border-0 rounded-3">
            <form method="post">
                <div class="modal-header bg-info text-white">
                    <h5 class="modal-title" id="staticBackdropLabel">Send Agreement</h5>
                    <button type="button" class="btn-close bg-black" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="d-flex flex-column">    
                        @switch (Model.RequestTypeId)
                        {
                            case 1:
                                <div>
                                    <i class="bi bi-circle-fill text-success mr-1"></i>
                                    <span>Patient</span>
                                </div>
                                break;
                            case 2:
                                <div>
                                    <i class="bi bi-circle-fill text-warning mr-1"></i>
                                    <span>Family/Friend</span>
                                </div>
                                break;
                            case 3:
                                <div>
                                    <i class="bi bi-circle-fill mr-1" style="color:pink;"></i>
                                    <span>Business</span>
                                </div>
                                break;
                            case 4:
                                <div>
                                    <i class="bi bi-circle-fill text-primary mr-1"></i>
                                    <span>Concierge</span>
                                </div>
                                break;
                        }
                        <div class="text-secondary mt-2 mb-2 mr-1">To Send Agreement please make sure your are updating the correct contact information below for thr responsible party.</div>
                    </div>
                    <div class=" gap-2">
                        <div class="form-floating mb-3">
                            <input type="tel" class="form-control" asp-for="PhoneNumber" id="floatingInput1" placeholder="phone number" readonly/>
                            <label for="floatingInput1" class="">Phone Number</label>
                        </div>  
                        <div class="form-floating mb-3">
                            <input type="email" class="form-control" asp-for="Email" id="floatingInput"
                                   placeholder="abc@gmail.com" readonly/>
                            <label for="floatingInput" class="">Email</label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" onclick="SendAgreement(@Model.RequestId)" class="btn bg-info px-4 text-white">Send</button>
                    <button type="button" id="cancel" class="btn border border-info text-info" data-bs-dismiss="modal">Cancel</button>
                </div>
            </form>

        </div>
    </div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
    function SendAgreement(request_id) {
        $.ajax({
            url: "/Admin/SendAgreement/",
            type: "POST",
            data: { "request_id": request_id },
            dataType: "html",
            success: function () {
                $("#cancel").click();
                toastr.success('Agreement Sended Successfully');
            },
            error: function () {
                console.log("No Projects Found");
            }
        });
    };

</script>